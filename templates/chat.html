<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virtual Game Master</title>
    <style>
        /* Add CSS styles for the chat history container */
        .chat-history-container {
            height: 400px; /* Set the desired height */
            overflow-y: scroll; /* Enable vertical scrolling */
            border: 1px solid #ccc; /* Add a border for clarity */
            padding: 10px; /* Add padding for spacing */
            background-color: black; /* Set the background color */
            color: white; /* Set text color */
        }

        /* Style individual chat messages */
        .message {
            margin-bottom: 10px; /* Add spacing between messages */
        }

        /* Style user messages */
        .user-message {
            text-align: left; /* Align user messages to the left */
            color: lightblue; /* Set background color to light blue */
            padding: 5px; /* Add padding for spacing */
            border-radius: 5px; /* Add rounded corners for a nicer look */
        }
    </style>
</head>
<body style="color: white;">
    <div class="container">
        <!-- Chat History Container with Scrolling -->
        <div class="chat-history-container" id="chat-history-container">
            <div id="chat-history">
                {% for message in history %}
                    <div class="message {% if 'User:' in message %}user-message{% endif %}">
                        {{ message }}
                    </div>
                {% endfor %}
            </div>
        </div>
        <!-- User Input Form -->
        <form method="POST" action="/" id="chat-form">
            <input type="text" name="user_input" placeholder="Type your message..." id="user-input" style="width: 100%; padding: 10px;">
            <button type="submit">Send</button>
        </form>
    </div>

    <!-- Add JavaScript to focus the input field when the page loads and scroll to the bottom of the chat history -->
    <script>
        // Get the input field element
        const userInput = document.getElementById('user-input');

        // Get the chat history container element
        const chatHistoryContainer = document.getElementById('chat-history-container');

        // Function to focus the input field
        function focusInput() {
            userInput.focus();
        }

        // Function to scroll to the bottom of the chat history
        function scrollToBottom() {
            chatHistoryContainer.scrollTop = chatHistoryContainer.scrollHeight;
        }

        // Focus the input field and scroll to the bottom when the page loads
        window.onload = function () {
            focusInput();
            scrollToBottom();
        };
    </script>
</body>
</html>
